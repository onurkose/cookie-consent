"use strict";(()=>{function e(e,t,n,i=!0){let o=n?[n]:[];if(!e)return o;let r=e.split(",").reduce((e,t)=>{let n=t.trim();return(!i||n)&&e.push(n),e},[]);if(t){let e=r.filter(e=>b(e,t));return e.length?e:o}return r}function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e){if("string"!=typeof e&&"symbol"!=typeof e&&"number"!=typeof e)throw new TypeError("`eventName` must be a string, symbol, or number")}function i(e){if("function"!=typeof e)throw new TypeError("listener must be a function")}function o(e,t){let n=Q.get(e);if(n.has(t))return n.get(t)}function r(e,t){let n="string"==typeof t||"symbol"==typeof t||"number"==typeof t?t:ee,i=Z.get(e);if(i.has(n))return i.get(n)}function s(e,t,n){let i=Z.get(e);if(i.has(t))for(let e of i.get(t))e.enqueue(n);if(i.has(ee)){let e=Promise.all([t,n]);for(let t of i.get(ee))t.enqueue(e)}}function l(e,t){t=Array.isArray(t)?t:[t];let n=!1,i=()=>{},o=[],s={enqueue(e){o.push(e),i()},finish(){n=!0,i()}};for(let n of t){let t=r(e,n);t||(t=new Set,Z.get(e).set(n,t)),t.add(s)}return{async next(){return o?0===o.length?n?(o=void 0,this.next()):(await new Promise(e=>{i=e}),this.next()):{done:!1,value:await o.shift()}:{done:!0}},async return(n){o=void 0;for(let n of t){let t=r(e,n);t&&(t.delete(s),0===t.size&&Z.get(e).delete(n))}return i(),arguments.length>0?{done:!0,value:await n}:{done:!0}},[Symbol.asyncIterator](){return this}}}function a(e){if(void 0===e)return ae;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(let t of e)if(!ae.includes(t))throw"string"!=typeof t?new TypeError("`methodNames` element must be a string"):new Error(`${t} is not Emittery method`);return e}function d(e,t,n){if(se(t))try{oe=!0,e.emit(t,n)}finally{oe=!1}}function c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function h(e,t){function n(n,i,o){if("undefined"!=typeof document){o=c({},t,o),"number"==typeof o.expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var s in o)o[s]&&(r+="; "+s,!0!==o[s]&&(r+="="+o[s].split(";")[0]));return document.cookie=n+"="+e.write(i,n)+r}}function i(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],i={},o=0;o<n.length;o++){var r=n[o].split("="),s=r.slice(1).join("=");try{var l=decodeURIComponent(r[0]);if(i[l]=e.read(s,l),t===l)break}catch{}}return t?i[t]:i}}return Object.create({set:n,get:i,remove:function(e,t){n(e,"",c({},t,{expires:-1}))},withAttributes:function(e){return h(this.converter,c({},this.attributes,e))},withConverter:function(e){return h(c({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var u=Object.defineProperty,f=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t,n)=>(f(e,"symbol"!=typeof t?t+"":t,n),n),p=(e,t="flex")=>new Promise(n=>{e.style.opacity="0",e.style.display=t,function t(){let i=parseFloat(e.style.opacity);if(i>=1)return void n();let o=i+.1;e.style.opacity=o.toString(),requestAnimationFrame(t)}()}),y=e=>new Promise(t=>{e.style.opacity="1",function n(){let i=parseFloat(e.style.opacity)-.1;e.style.opacity=i.toString(),i<=0?(e.style.display="none",t()):requestAnimationFrame(n)}()}),g=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,t){if(this.alertsActivated&&window.alert(e),"error"===t)throw new Error(e)}};m(g,"alertsActivated",!1);var b=(e,t)=>!!e&&t.includes(e),w=(e,t)=>(Array.isArray(t)||(t=[t]),t.map(t=>e.dispatchEvent(new Event(t,{bubbles:!0}))).every(e=>e)),v=e=>Object.entries(e),E=e=>Object.keys(e),x=e=>{let{overflow:t}=getComputedStyle(e);return"auto"===t||"scroll"===t},A=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),$=(e,t,n=document)=>{let i=n.querySelector(e);if(i instanceof t)return i},T=e=>e.replace(/\/+$/,""),S=(e,t=!0)=>(t!==e.checked&&(e.checked=t,w(e,["click","input","change"])),"checkbox"===e.type?e.checked:e.value),k=e=>new Promise(t=>setTimeout(t,e)),C=class{constructor({element:e,duration:t}){var n,i;m(this,"element"),m(this,"active",!1),m(this,"running",!1),m(this,"runningPromise"),m(this,"duration"),m(this,"isActive",()=>this.active),m(this,"isRunning",()=>this.running),m(this,"untilFinished",()=>this.runningPromise),this.element="string"==typeof e?$(e,HTMLElement)||g.alert(`No interaction with the ${e} selector was found.`,"error"):e,this.duration={first:"number"==typeof t?t:null!=(n=null==t?void 0:t.first)?n:0,second:"number"==typeof t?t:null!=(i=null==t?void 0:t.second)?i:0}}async trigger(e){return!("first"===e&&this.active||"second"===e&&!this.active)&&(e||(e=this.active?"second":"first"),w(this.element,"click"),this.running=!0,this.runningPromise=k(this.duration[e]),await this.runningPromise,this.running=!1,this.active="first"===e,!0)}},P=class{constructor({element:e,interaction:t,displayProperty:n,noTransition:i,startsHidden:o}){if(m(this,"interaction"),m(this,"noTransition"),m(this,"displayProperty"),m(this,"visible"),m(this,"element"),m(this,"isVisible",()=>this.visible),this.element="string"==typeof e?$(e,HTMLElement)||g.alert(`No element with the ${e} selector was found.`,"error"):e,this.noTransition=i,this.displayProperty=n||"block",o?(this.element.style.display="none",this.visible=!1):this.visible=A(this.element),t){let{element:e,duration:n}=t;this.interaction=new C({element:e,duration:n})}}async show(){this.visible||(this.interaction?await this.interaction.trigger("first"):this.noTransition?this.element.style.display=this.displayProperty:await p(this.element,this.displayProperty),this.visible=!0)}async hide(){this.visible&&(this.interaction?await this.interaction.trigger("second"):this.noTransition?this.element.style.display="none":await y(this.element),this.visible=!1)}};m(P,"displayProperties",["block","flex","grid","inline-block","inline"]);var O=(e=document)=>e.documentElement.getAttribute("data-wf-site"),M=async e=>{var t,n;let{Webflow:i}=window;if(i&&"destroy"in i&&"ready"in i&&"require"in i&&(!e||e.length)){if(e||(i.destroy(),i.ready()),!e||e.includes("ix2")){let t=i.require("ix2");if(t){let{store:n,actions:i}=t,{eventState:o}=n.getState().ixSession,r=Object.entries(o);e||t.destroy(),t.init(),await Promise.all(r.map(e=>n.dispatch(i.eventStateChanged(...e))))}}if(!e||e.includes("commerce")){let e=i.require("commerce"),t=O();e&&t&&(e.destroy(),e.init({siteId:t,apiUrl:"https://render.webflow.com"}))}if(null!=e&&e.includes("lightbox")&&(null==(t=i.require("lightbox"))||t.ready()),null!=e&&e.includes("slider")){let e=i.require("slider");e&&(e.redraw(),e.ready())}return null!=e&&e.includes("tabs")&&(null==(n=i.require("tabs"))||n.redraw()),new Promise(e=>i.push(()=>e(void 0)))}},j=!1;"undefined"!=typeof window&&(L={get passive(){j=!0}},window.addEventListener("testPassive",null,L),window.removeEventListener("testPassive",null,L));var L,I="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),F=[],D=!1,R=-1,z=void 0,H=void 0,N=void 0,U=function(e){return F.some(function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))})},q=function(e){var t=e||window.event;return!!(U(t.target)||t.touches.length>1)||(t.preventDefault&&t.preventDefault(),!1)},B=function(e){if(void 0===N){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){let e=parseInt(window.getComputedStyle(window.top.document.body).getPropertyValue("padding-right"),10);N=window.top.document.body.style.paddingRight,window.top.document.body.style.paddingRight=`${e+n}px`}}void 0===z&&(z=window.top.document.body.style.overflow,window.top.document.body.style.overflow="hidden")},W=function(){void 0!==N&&(window.top.document.body.style.paddingRight=N,N=void 0),void 0!==z&&(window.top.document.body.style.overflow=z,z=void 0)},J=function(){return window.requestAnimationFrame(function(){if(void 0===H){H={position:window.top.body.style.position,top:window.top.body.style.top,left:window.top.body.style.left};let{scrollY:e,scrollX:t,innerHeight:n}=window;window.top.document.body.style.position="fixed",window.top.document.body.style.top=`${-e}px`,window.top.document.body.style.left=`${-t}px`}})},K=function(){if(void 0!==H){let e=-parseInt(window.top.document.body.style.top,10),t=-parseInt(window.top.document.body.style.left,10);window.top.body.style.position=H.position,window.top.body.style.top=H.top,window.top.body.style.left=H.left,window.scrollTo(t,e),H=void 0}},G=function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight},V=function(e,t){var n=e.targetTouches[0].clientY-R;return!U(e.target)&&(t&&0===t.scrollTop&&n>0||G(t)&&n<0?q(e):(e.stopPropagation(),!0))},Y=function(e,n){if(e){if(!F.some(function(t){return t.targetElement===e})){var i={targetElement:e,options:n||{}};F=[].concat(t(F),[i]),I?J():B(n),I&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(R=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&V(t,e)},D||(document.addEventListener("touchmove",q,j?{passive:!1}:void 0),D=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},X=function(){I&&(F.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),D&&(document.removeEventListener("touchmove",q,j?{passive:!1}:void 0),D=!1),R=-1),I?K():W(),F=[]},_=new WeakMap,Q=new WeakMap,Z=new WeakMap,ee=Symbol("anyProducer"),te=Promise.resolve(),ne=Symbol("listenerAdded"),ie=Symbol("listenerRemoved"),oe=!1,re=!1,se=e=>e===ne||e===ie,le=class e{static mixin(t,n){return n=a(n),i=>{function o(){return Object.defineProperty(this,t,{enumerable:!1,value:new e}),this[t]}if("function"!=typeof i)throw new TypeError("`target` must be function");for(let e of n)if(void 0!==i.prototype[e])throw new Error(`The property \`${e}\` already exists on \`target\``);Object.defineProperty(i.prototype,t,{enumerable:!1,get:o});let r=e=>(function(...n){return this[t][e](...n)});for(let e of n)Object.defineProperty(i.prototype,e,{enumerable:!1,value:r(e)});return i}}static get isDebugEnabled(){var e,t;if("object"!=typeof(null==(e=globalThis.process)?void 0:e.env))return re;let{env:n}=null!=(t=globalThis.process)?t:{env:{}};return"emittery"===n.DEBUG||"*"===n.DEBUG||re}static set isDebugEnabled(e){re=e}constructor(e={}){var t;_.set(this,new Set),Q.set(this,new Map),Z.set(this,new Map),Z.get(this).set(ee,new Set),this.debug=null!=(t=e.debug)?t:{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=((e,t,n,i)=>{try{i=JSON.stringify(i)}catch{i=`Object with the following keys failed to stringify: ${Object.keys(i).join(",")}`}("symbol"==typeof n||"number"==typeof n)&&(n=n.toString());let o=new Date,r=`${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}.${o.getMilliseconds()}`;console.log(`[${r}][emittery:${e}][${t}] Event Name: ${n}\n\tdata: ${i}`)}))}logIfDebugEnabled(t,n,i){(e.isDebugEnabled||this.debug.enabled)&&this.debug.logger(t,this.debug.name,n,i)}on(e,t){i(t),e=Array.isArray(e)?e:[e];for(let i of e){n(i);let e=o(this,i);e||(e=new Set,Q.get(this).set(i,e)),e.add(t),this.logIfDebugEnabled("subscribe",i,void 0),se(i)||d(this,ne,{eventName:i,listener:t})}return this.off.bind(this,e,t)}off(e,t){i(t),e=Array.isArray(e)?e:[e];for(let i of e){n(i);let e=o(this,i);e&&(e.delete(t),0===e.size&&Q.get(this).delete(i)),this.logIfDebugEnabled("unsubscribe",i,void 0),se(i)||d(this,ie,{eventName:i,listener:t})}}once(e){let t,n=new Promise(n=>{t=this.on(e,e=>{t(),n(e)})});return n.off=t,n}events(e){e=Array.isArray(e)?e:[e];for(let t of e)n(t);return l(this,e)}async emit(e,t){var i;if(n(e),se(e)&&!oe)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emit",e,t),s(this,e,t);let r=null!=(i=o(this,e))?i:new Set,l=_.get(this),a=[...r],d=se(e)?[]:[...l];await te,await Promise.all([...a.map(async e=>{if(r.has(e))return e(t)}),...d.map(async n=>{if(l.has(n))return n(e,t)})])}async emitSerial(e,t){var i;if(n(e),se(e)&&!oe)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emitSerial",e,t);let r=null!=(i=o(this,e))?i:new Set,s=_.get(this),l=[...r],a=[...s];await te;for(let e of l)r.has(e)&&await e(t);for(let n of a)s.has(n)&&await n(e,t)}onAny(e){return i(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),_.get(this).add(e),d(this,ne,{listener:e}),this.offAny.bind(this,e)}anyEvent(){return l(this)}offAny(e){i(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),d(this,ie,{listener:e}),_.get(this).delete(e)}clearListeners(e){e=Array.isArray(e)?e:[e];for(let t of e)if(this.logIfDebugEnabled("clear",t,void 0),"string"==typeof t||"symbol"==typeof t||"number"==typeof t){let e=o(this,t);e&&e.clear();let n=r(this,t);if(n){for(let e of n)e.finish();n.clear()}}else{_.get(this).clear();for(let[e,t]of Q.get(this).entries())t.clear(),Q.get(this).delete(e);for(let[e,t]of Z.get(this).entries()){for(let e of t)e.finish();t.clear(),Z.get(this).delete(e)}}}listenerCount(e){var t,i,s,l,a,d;e=Array.isArray(e)?e:[e];let c=0;for(let h of e)if("string"!=typeof h){void 0!==h&&n(h),c+=_.get(this).size;for(let e of Q.get(this).values())c+=e.size;for(let e of Z.get(this).values())c+=e.size}else c+=_.get(this).size+(null!=(i=null==(t=o(this,h))?void 0:t.size)?i:0)+(null!=(l=null==(s=r(this,h))?void 0:s.size)?l:0)+(null!=(d=null==(a=r(this))?void 0:a.size)?d:0);return c}bindMethods(e,t){if("object"!=typeof e||null===e)throw new TypeError("`target` must be an object");t=a(t);for(let n of t){if(void 0!==e[n])throw new Error(`The property \`${n}\` already exists on \`target\``);Object.defineProperty(e,n,{enumerable:!1,value:this[n].bind(this)})}}},ae=Object.getOwnPropertyNames(le.prototype).filter(e=>"constructor"!==e);Object.defineProperty(le,"listenerAdded",{value:ne,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(le,"listenerRemoved",{value:ie,writable:!1,enumerable:!0,configurable:!1});var de=["essential"],ce=["personalization","analytics","marketing"],he="uncategorized",ue=[...de,...ce,he],fe="fs-cc",me=["informational","opt-in","opt-out"],pe={allow:"allow",deny:"deny",submit:"submit"},ye={banner:`[${fe}="banner"]`,preferences:`[${fe}="preferences"]`,manager:`[${fe}="manager"]`},ge={allow:`[${fe}="${pe.allow}"]`,deny:`[${fe}="${pe.deny}"]`,submit:`[${fe}="${pe.submit}"]`,openPreferences:`[${fe}="open-preferences"]`,close:`[${fe}="close"]`},be={interactionTrigger:`[${fe}="interaction"]`},we={categories:[`${fe}-category`,`${fe}-categories`],disableScroll:`${fe}-scroll`,displayProperty:`${fe}-display`,cookieMaxAge:`${fe}-expires`,mode:`${fe}-mode`,debugMode:`${fe}-debug`,endpoint:`${fe}-endpoint`,componentsSource:`${fe}-source`,src:`${fe}-src`,placeholder:`${fe}-placeholder`,domain:`${fe}-domain`},ve={main:fe,consentsUpdated:`${fe}-updated`},Ee={checkbox:e=>`[${fe}-checkbox="${e}"]`,gtmEvent:e=>`${e}-activated`},xe=`<style>${ye.banner},${ye.manager},${ye.preferences},${be.interactionTrigger}{display:none}</style>`,Ae={info:"green",warning:"yellow",error:"red"},$e=class{static activate(){this.init(),this.active=!0}static init(){this.element=document.createElement("div"),Object.assign(this.element.style,{position:"fixed",left:"auto",top:"auto",right:"16px",bottom:"0px","z-index":"999999","max-width":"320px","font-size":"14px","line-height":"1.25"}),document.body.appendChild(this.element)}static alert(e,t){if(!this.active)return;let n=document.createElement("div");Object.assign(n.style,{position:"relative",padding:"16px",opacity:"0","margin-bottom":"16px","border-left":`4px solid ${Ae[t]}`,"background-color":"#fff","box-shadow":"1px 1px 3px 0 rgba(0, 0, 0, 0.1)","word-break":"break-all"});let i=document.createElement("div");i.innerText=e,n.appendChild(i),n.insertAdjacentHTML("beforeend",`<div ${fe}="close" style="position: absolute; left: auto; top: 4px; right: 8px; bottom: auto; cursor: pointer">✖</div>`),this.handleCard(n)}static handleCard(e){let t=n=>{n.target instanceof Element&&n.target.closest(ge.close)&&(e.removeEventListener("click",t),e.remove())};e.addEventListener("click",t),this.element.insertAdjacentElement("afterbegin",e),p(e)}};$e.active=!1;var Te=Object.freeze({analytics:!1,essential:!0,marketing:!1,personalization:!1,uncategorized:!1}),Se=Object.freeze({analytics:!0,essential:!0,marketing:!0,personalization:!0,uncategorized:!0}),ke="180",Ce=class{constructor(){this.confirmed=!1,this.bannerText="empty",this.scripts=[],this.iFrames=[],this.userHasConfirmed=(()=>this.confirmed),this.getStoredElements=(()=>[...this.scripts,...this.iFrames]),this.getActivableElements=(()=>this.getStoredElements().filter(({active:e,categories:t})=>!e&&t.every(e=>this.consents[e]))),this.getConsents=(()=>this.consents),this.getConsentsEntries=(()=>v(this.consents)),this.getConsent=(e=>this.consents[e]),this.getBannerText=(()=>this.bannerText);let{currentScript:e}=document,t=null==e?void 0:e.getAttribute(we.mode);switch(this.mode=b(t,me)?t:"opt-in",this.mode){case"informational":case"opt-out":this.consents={...Se};break;default:this.consents={...Te}}this.cookieMaxAge=parseInt((null==e?void 0:e.getAttribute(we.cookieMaxAge))||ke);let n=null==e?void 0:e.getAttribute(we.debugMode);this.debugMode=""===n||"true"===n,this.debugMode&&$e.activate(),this.endpoint=null==e?void 0:e.getAttribute(we.endpoint),this.componentsSource=null==e?void 0:e.getAttribute(we.componentsSource),this.domain=null==e?void 0:e.getAttribute(we.domain),$e.alert(`The cookie banner is set to ${this.mode} mode with a consent expiry time of ${this.cookieMaxAge} days.${this.endpoint?`The consents will be POSTed to ${this.endpoint}`:""}`,"info")}storeScript(e){this.scripts.push({...e,type:"script"})}storeIFrame(e){this.iFrames.push({...e,type:"iframe"})}storeConsents(e){let t=[];return E(e).forEach(n=>{if("essential"===n)return;let i=e[n];void 0===i||i===this.consents[n]||(this.consents[n]=i,t.push(n))}),this.confirmed=!0,t}storeBannerText(e){e&&e.textContent&&(this.bannerText=e.textContent)}},Pe=async e=>{let{origin:t,pathname:n,href:i}=window.location,{origin:o,pathname:r,href:s}=new URL(document.baseURI);try{if(e.startsWith("/")){let n=s===i?t:o+r;e=T(n)+e}let{origin:l,pathname:a}=new URL(e);if(l+a===t+n)return;let d=await(await fetch(e)).text(),c=(new DOMParser).parseFromString(d,"text/html");Object.values(ye).forEach(e=>{let t=c.querySelector(e);t&&document.body.appendChild(t)}),M()}catch(e){$e.alert(`${e}`,"error")}},Oe=e=>{if(x(e))return e;let t=e.querySelectorAll("*");for(let e of t)if(x(e))return e},Me=({element:e})=>{let t=document.createElement("script");return t.type="text/javascript",t.innerText=e.innerText,t.text=e.text,e.src&&(t.src=e.src),t},je=({element:e,src:t,placeholder:n})=>{let i=document.createElement("iframe");for(let{name:t,value:n}of e.attributes)i.setAttribute(t,n);return i.innerText=e.innerText,i.src=t,n&&i.addEventListener("load",()=>y(n)),i},Le=class extends le{constructor(e,t){super(),this.element=e,this.store=t,this.checkboxes=new Map,this.initElements(),this.listenEvents(),this.updateCheckboxes()}initElements(){let e=ce.filter(e=>{let t=Ee.checkbox(e),n=this.element.querySelector(`input${t}, ${t} input`);return console.log(n,`input${t}, ${t} input`),!n||"checkbox"!==n.type||(n.checked&&S(n,!1),this.checkboxes.set(e,n),!1)});e.length&&$e.alert(`The Consents Form is missing the following checkboxes: ${e.map(e=>Ee.checkbox(e)).join(", ")}.`,"warning")}listenEvents(){this.element.addEventListener("submit",e=>this.handleSubmit(e))}handleSubmit(e){e.preventDefault(),e.stopPropagation();let t={};this.checkboxes.forEach((e,n)=>{var i;t[n]=null!=(i=e.checked)&&i}),this.emit("submit",t)}updateCheckboxes(){let e=this.store.getConsents();this.checkboxes.forEach((t,n)=>{!!e[n]!==t.checked&&S(t,e[n])})}submit(){w(this.element,"submit")}},Ie=class extends le{constructor(e,t){super(),this.selector=e,this.store=t,this.disableScrollOnOpen=!1,this.ready=!1,this.isReady=(()=>this.ready),"complete"===document.readyState?this.init():window.addEventListener("load",()=>this.init())}init(){let{banner:e,manager:t,preferences:n}=ye;if(this.initElements())this.handleAccessibility(),this.listenEvents(),this.ready=!0,this.emit("ready",this.element);else switch(this.selector){case e:$e.alert(`No element with the ${e} attribute was found, it is required to have it!`,"error");break;case t:$e.alert(`No element with the ${t} attribute was found, did you want to use the Manager component?`,"info");break;case n:$e.alert(`No element with the ${n} attribute was found, did you want to use the Preferences component?`,"info")}}initElements(){this.element=$(this.selector,HTMLElement);let{element:e,store:t}=this;if(!e)return!1;let n=$("form",HTMLFormElement,e);n&&(this.form=new Le(n,t));let i=e.getAttribute(we.displayProperty);this.disableScrollOnOpen="disable"===e.getAttribute(we.disableScroll),this.disableScrollOnOpen&&(this.scrollableElement=Oe(e));let o=$(be.interactionTrigger,HTMLElement,e);return this.displayController=new P({element:e,interaction:o?{element:o}:void 0,displayProperty:b(i,P.displayProperties)?i:"flex",startsHidden:!0}),!0}handleAccessibility(){let{element:e}=this;e&&E(ge).forEach(t=>{let n=e.querySelector(ge[t]);n&&(n.setAttribute("role","button"),n.setAttribute("tabindex","0"))})}listenEvents(){let{element:e,form:t}=this;e&&(e.addEventListener("click",e=>this.handleMouseAndKeyboard(e)),e.addEventListener("keydown",e=>this.handleMouseAndKeyboard(e)),null==t||t.on("submit",e=>this.handleFormSubmit(e)))}handleMouseAndKeyboard(e){var t;let{target:n}=e,{allow:i,deny:o,close:r,submit:s}=ge;n instanceof Element&&("key"in e&&"Enter"!==e.key||(n.closest(i)?(this.emit("allow"),this.close()):n.closest(o)?(this.emit("deny"),this.close()):n.closest(r)?this.close():n.closest(s)&&(null==(t=this.form)||t.submit())))}handleFormSubmit(e){this.emit("formsubmit",e),this.close()}show(e=!0){let{element:t,displayController:n,disableScrollOnOpen:i,scrollableElement:o}=this;!t||!n||n.isVisible()===e||(n[e?"show":"hide"](),i&&(e?Y(o||t,{reserveScrollBarGap:!0}):X()),this.emit(e?"open":"close"))}open(){this.ready?this.show():this.once("ready").then(()=>this.show())}close(){this.ready?this.show(!1):this.once("ready").then(()=>this.show(!1))}},Fe=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>(t&=63,e+=t<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_",e),""),De=async({id:e,endpoint:t,consents:n,action:i,bannerText:o})=>{if(t)try{let r=JSON.stringify({id:e,action:i,consents:n,bannerText:o,url:window.location.href,userAgent:navigator.userAgent}),s=await fetch(t,{body:r,method:"POST"});if(!s.ok)throw new Error(`The API returned a ${s.status} status.`);$e.alert("The new consents were successfully POSTed to the API endpoint.","info")}catch(e){$e.alert(`There was an error while POSTing to the API: ${e}`,"error")}},Re={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},ze=h(Re,{path:"/"}),He=e=>Object.keys(e).every(e=>b(e,ue)),Ne=e=>{if(!e)return;let{hostname:t}=window.location;return t.includes("webflow.io")?t:e},Ue=()=>{let e=ze.get(ve.main);if(!e)return;let t=JSON.parse(decodeURIComponent(e));return t.consents&&He(t.consents)?t.consents:void 0},qe=(e,t,n=120,i)=>{let o=encodeURIComponent(JSON.stringify({id:e,consents:t}));i=Ne(i),ze.set(ve.main,o,{expires:n,domain:i})},Be=()=>{let e=ze.get();for(let t in e){if(t===ve.main)continue;let e=window.location.host.split(".");for(;e.length>1;)ze.remove(t),ze.remove(t,{domain:`.${e.join(".")}`}),ze.remove(t,{domain:`${e.join(".")}`}),e.splice(0,1)}},We=()=>!!ze.get(ve.consentsUpdated),Je=(e=120,t)=>{t=Ne(t),ze.set(ve.consentsUpdated,"true",{expires:e,domain:t})},Ke=e=>{window.dataLayer=window.dataLayer||[],window.dataLayer.find(t=>t.event===e)||(window.dataLayer.push({event:e}),$e.alert(`The GTM event ${e} has been fired.`,"info"))},Ge=class extends le{constructor(e){super(),this.store=e,this.loadConsents(),this.storeElements(),"complete"!==document.readyState&&window.addEventListener("load",()=>{this.storeElements(),this.applyConsents()}),this.applyConsents()}storeElements(){let{store:t}=this,n=document.querySelectorAll(`script[type="${fe}"], iframe[${we.src}]`),i=t.getStoredElements();[...n].filter(e=>!i.find(({element:t})=>e===t)).forEach(n=>{let i=e(n.getAttribute(we.categories[0])||n.getAttribute(we.categories[1]),ue,he);if(n instanceof HTMLScriptElement&&t.storeScript({categories:i,element:n,active:!1}),n instanceof HTMLIFrameElement){let e=n.getAttribute(we.src);if(!e)return;n.src="";let o=n.getAttribute(we.placeholder),r=o?$(o,HTMLElement):void 0;t.storeIFrame({categories:i,element:n,src:e,placeholder:r,active:!1})}$e.alert(`Stored the element: ${n.outerHTML} in the categories: ${i.join(", ")}`,"info")})}loadConsents(){let e=Ue();e&&($e.alert(`The following consents were loaded from the stored cookies: ${JSON.stringify(e)}`,"info"),this.store.storeConsents(e),We()&&(Be(),$e.alert("Previously denied cookies have been deleted.","info")))}async applyConsents(){let{store:e}=this;for(let t of e.getActivableElements())await new Promise(e=>{let n,{element:i}=t,{src:o,parentElement:r}=i;if("script"===t.type)n=Me(t);else{if("iframe"!==t.type)return void e(void 0);n=je(t)}let s=()=>{t.element=n,t.active=!0,e(void 0)};o&&n.addEventListener("load",s),null==r||r.insertBefore(n,i),i.remove(),o||s()});e.getConsentsEntries().forEach(([e,t])=>{t&&Ke(Ee.gtmEvent(e))})}updateConsents(e,t){let{store:n}=this,{cookieMaxAge:i,endpoint:o,domain:r}=n,s=n.storeConsents(e),l=Fe();qe(l,n.getConsents(),i,r),o&&De({action:t,endpoint:o,id:l,consents:n.getConsents(),bannerText:n.getBannerText()||""}),s.length&&(Je(i,r),this.applyConsents(),$e.alert(`The following consents were updated: ${s.join(", ")}`,"info")),this.emit("updateconsents")}},Ve=class{constructor(e=[]){this.store=new Ce,this.consentController=new Ge(this.store),this.initComponents().then(()=>this.init(e))}async initComponents(){let{store:e}=this,{componentsSource:t}=e,{banner:n,preferences:i,manager:o}=ye;t&&await Pe(t),this.banner=new Ie(n,e),this.preferences=new Ie(i,e),this.manager=new Ie(o,e)}init(e=[]){let{store:t,manager:n,banner:i}=this;document.head.insertAdjacentHTML("beforeend",xe),!/bot|crawler|spider|crawling/i.test(navigator.userAgent)&&(this.push(...e),t.userHasConfirmed()?n.open():i.open(),this.listenEvents())}listenEvents(){let{allow:e,deny:t,submit:n}=pe,i=["banner","manager","preferences"],{store:o,consentController:r,banner:s,manager:l}=this;document.addEventListener("click",e=>this.handleMouseAndKeyboard(e)),document.addEventListener("keydown",e=>this.handleMouseAndKeyboard(e)),s.isReady()?o.storeBannerText(s.element):s.on("ready",e=>o.storeBannerText(e)),r.on("updateconsents",()=>{i.forEach(e=>{var t;return null==(t=this[e].form)?void 0:t.updateCheckboxes()})}),i.forEach(i=>{this[i].on("allow",()=>{$e.alert(`Allow button was clicked in the ${i} component.`,"info"),r.updateConsents(Se,e)}),this[i].on("deny",()=>{$e.alert(`Deny button was clicked in the ${i} component.`,"info"),r.updateConsents(Te,t)}),this[i].on("formsubmit",e=>{$e.alert(`Consents Form was submitted in the ${i} component with the following consents: ${JSON.stringify(e)}`,"info"),r.updateConsents(e,n)}),"manager"!==i&&this[i].on("close",()=>{$e.alert(`The ${i} component was closed.`,"info"),"informational"===o.mode&&($e.alert(`All cookies were accepted because the mode is set to ${o.mode}.`,"warning"),r.updateConsents(Se,e)),l.open()})})}handleMouseAndKeyboard(e){let{target:t}=e,{banner:n,manager:i,preferences:o}=this;t instanceof Element&&("key"in e&&"Enter"!==e.key||t.closest(ge.openPreferences)&&(n.close(),i.close(),o.open(),$e.alert("Open Preferences button was clicked.","info")))}push(...e){e.forEach(e=>e(this))}},Ye=Array.isArray(window.FsCC)?window.FsCC:[];window.FsCC=new Ve(Ye)})();